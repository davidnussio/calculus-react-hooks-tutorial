(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),l=n.n(o),c=(n(12),n(5)),s=n(1),i=n(4),u=n.n(i);n(14);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=window.speechSynthesis.getVoices(),a=new SpeechSynthesisUtterance;return a.voice=n[9],a.voiceURI="native",a.lang="it-IT",a.text=e,a.onend=t,a}function p(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function f(e,t,n){var a=p(e,t),r=p(e,t);return"x"===n?[a,r,a*r]:"+"===n?[a,r,a+r]:void 0}var d=function(e){var t=e.a,n=e.b,a=e.operator,o=e.result,l=e.response;return void 0!==t&&void 0!==n?r.a.createElement("p",null,t," ",a," ",n," = ",l?o:"?"):r.a.createElement("p",null,"\xa0")},b=function(e){var t=e.isCorrectAnswer,n=e.response,a=e.result,o=u()({correct:t,error:!t});return n?r.a.createElement("p",null,"La tua risposta \xe8 ",r.a.createElement("b",null,n),".",r.a.createElement("br",null),t?r.a.createElement("i",{className:o},"Bravo, la risposta \xe8 corretta!"):r.a.createElement("i",{className:o},"La risposta \xe8 sbagliata, il risultato era ",r.a.createElement("b",null,a),"!")):r.a.createElement("p",null,"\xa0")},v=function(e){var t=e.history;return r.a.createElement("table",null,r.a.createElement("tbody",null,t.map(function(e,t){var n=Object(s.a)(e,6),a=n[0],o=n[1],l=n[2],c=n[3],i=n[4],u=n[5],m=c===u;return r.a.createElement("tr",{key:t,className:"App-history-wrapper"},r.a.createElement("td",null,a),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,"="),r.a.createElement("td",null,"NaN"===c?i:c),m?r.a.createElement("td",null,r.a.createElement("span",{className:"correct"},"\u2714")):r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement("span",{className:"error"},"\u2718")),r.a.createElement("td",null,r.a.createElement("b",null,"(",u,")"))))})))};var E=function(e){var t=e.min,n=void 0===t?0:t,o=e.max,l=void 0===o?10:o,i=e.operator,u=void 0===i?"x":i,E=Object(a.useState)([]),h=Object(s.a)(E,2),g=h[0],w=h[1],O=Object(a.useState)(!1),j=Object(s.a)(O,2),N=j[0],S=j[1],y=Object(a.useState)(!1),k=Object(s.a)(y,2),A=k[0],I=k[1],x=Object(a.useState)(null),C=Object(s.a)(x,2),_=C[0],B=C[1],J=Object(a.useState)(null),M=Object(s.a)(J,2),R=M[0],F=M[1],L=Object(s.a)(g,3),T=L[0],U=L[1],W=L[2],H=function(){var e="__history_results_storage__",t=window.localStorage,n=Object(a.useState)(JSON.parse(window.localStorage.getItem(e))||[]),r=Object(s.a)(n,2),o=r[0],l=r[1],i=Object(a.useCallback)(function(n){if(n){var a=[].concat(Object(c.a)(o),[n]);console.log("History",o,n,a),l(a),t.setItem(e,JSON.stringify(a))}},[o]);return[o,function(e){return i(e)}]}(),P=Object(s.a)(H,2),V=P[0],$=P[1],q=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(a.useState)(void 0),n=Object(s.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)(function(){var e=new window.webkitSpeechRecognition;return e.continuous=!1,e.interimResults=!1,e.lang=["it-IT","Italia"],e}),c=Object(s.a)(l,1)[0];return c.onstart=function(){console.log("# recognition \u2192 onstart")},c.onresult=function(e){console.log("# recognition \u2192 onresult");for(var t=e.resultIndex;t<e.results.length;++t)e.results[t].isFinal?o(e.results[t][0].transcript):console.warn("Not implemented")},c.onerror=function(){console.log("# recognition \u2192 onerror"),o(null)},c.onend=function(){console.log("# recognition \u2192 onend"),o(function(e){return e})},Object(a.useEffect)(function(){!0===e&&c?c.start():c.stop()},[e]),r}(N);return Object(a.useEffect)(function(){if(void 0!==q){var e=function(e){if(null===e)return"\uff3f";var t=e.replace(/[^0-9 ]/).split(" ");return parseInt(t[t.length-1],10)}(q);$([T,U,u,e,q,W]),B(e),F(W===e),S(!1)}},[q]),Object(a.useEffect)(function(){if(A&&!1===Number.isNaN(T)&&!1===Number.isNaN(U)){var e=m("".concat(T," x ").concat(U),function(e){I(!1),S(!0)});window.speechSynthesis.speak(e)}},[A]),Object(a.useEffect)(function(){if(R){var e=m(function(){var e=["Bravo!","Ok!","Continua cos\xec","Perfetto"];return e[p(0,e.length-1)]}());speechSynthesis.speak(e)}},[R]),Object(a.useCallback)(function(){F(null),B(null),w(f(n,l,u)),I(!0)},[n,l,u]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("div",{className:"App-results"},r.a.createElement(v,{history:V})),r.a.createElement("div",{className:"App-main"},r.a.createElement(d,{a:T,b:U,operator:u,result:W,response:_}),r.a.createElement(b,{isCorrectAnswer:R,response:_,result:W}),r.a.createElement("p",null,r.a.createElement("button",{className:"App-button",disabled:A||N,onClick:function(e){F(null),B(null),w(f(n,l,u)),I(!0)}},"Avanti...")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,t,n){e.exports=n(16)}},[[6,2,1]]]);
//# sourceMappingURL=main.4effce07.chunk.js.map