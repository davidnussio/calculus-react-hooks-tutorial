(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),s=(n(12),n(2)),l=n(1),i=n(5),u=n.n(i),m=(n(14),new window.webkitSpeechRecognition);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=window.speechSynthesis.getVoices(),a=new SpeechSynthesisUtterance;return a.voice=n[9],a.voiceURI="native",a.lang="it-IT",a.text=e,a.onend=t,a}function f(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function b(e,t){var n=f(e,t),a=f(e,t);return[n,a,n*a]}function v(e){var t=e.replace(/[^0-9 ]/).split(" ");return parseInt(t[t.length-1],10)}m.continuous=!1,m.interimResults=!1,m.lang=["it-IT","Italia"];var d=function(e){var t=e.a,n=e.b,a=e.operator,c=e.result,o=e.response;return t&&n?r.a.createElement("p",null,t," ",a," ",n," = ",o?c:"?"):r.a.createElement("p",null,"\xa0")},E=function(e){var t=e.isCorrectAnswer,n=e.response,a=e.result,c=u()({correct:t,error:!t});return n?r.a.createElement("p",null,"La tua risposta \xe8 ",r.a.createElement("b",null,n),".",r.a.createElement("br",null),t?r.a.createElement("i",{className:c},"Bravo, la risposta \xe8 corretta!"):r.a.createElement("i",{className:c},"La risposta \xe8 sbagliata ",r.a.createElement("b",null,a),"!")):r.a.createElement("p",null,"\xa0")},h=function(e){var t=e.history;return r.a.createElement("ul",null,t.map(function(e,t){var n=Object(l.a)(e,5),a=n[0],c=n[1],o=n[2],s=n[3],i=n[4],u=s===i;return r.a.createElement("li",{key:t},a," ",o," ",c," = ",s," ",u?r.a.createElement("span",{className:"correct"},"\u2714"):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"error"},"\u2718")," ",r.a.createElement("b",null,"(",i,")")))}))};var w=function(e){var t=e.min,n=void 0===t?6:t,c=e.max,o=void 0===c?9:c,i=e.operator,u=void 0===i?"x":i,w=Object(a.useState)(!1),O=Object(l.a)(w,2),j=O[0],g=O[1],S=Object(a.useState)([]),k=Object(l.a)(S,2),N=k[0],y=k[1],A=Object(a.useState)(!1),I=Object(l.a)(A,2),x=I[0],M=I[1],B=Object(a.useState)(),C=Object(l.a)(B,2),R=C[0],F=C[1],J=Object(a.useState)([]),L=Object(l.a)(J,2),T=L[0],U=L[1],V=Object(a.useMemo)(function(){return N.length?N[N.length-1]:[]},[N]),W=Object(l.a)(V,3),P=W[0],$=W[1],q=W[2],z=Object(a.useMemo)(function(){if(q&&R)return q===R},[q,R]);return Object(a.useEffect)(function(){j&&y([].concat(Object(s.a)(N),[b(n,o)]))},[j]),Object(a.useEffect)(function(){if(P&&$){var e=p("".concat(P," x ").concat($),function(e){M(!0)});window.speechSynthesis.speak(e)}},[P,$]),Object(a.useEffect)(function(){void 0!==x&&(!0===x&&m?(m.start(),m.onresult=function(e){for(var t=e.resultIndex;t<e.results.length;++t)if(e.results[t].isFinal){var n=v(e.results[t][0].transcript);F(n),U([].concat(Object(s.a)(T),[[P,$,u,n,q]]))}else console.warn("Not implemented")},m.onerror=function(){F("\uff3f"),U([].concat(Object(s.a)(T),[[P,$,u,"\uff3f",q]]))},m.onend=function(){console.log("recognition end"),M(!1),g(!1)}):m.stop())},[x]),Object(a.useEffect)(function(){if(z){var e=p(function(){var e=["Bravo!","Ok!","Continua cos\xec","Perfetto"];return e[f(0,e.length-1)]}());speechSynthesis.speak(e)}},[z]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("div",{className:"App-results"},r.a.createElement(h,{history:T})),r.a.createElement("div",{className:"App-main"},r.a.createElement(d,{a:P,b:$,operator:u,result:q,response:R}),r.a.createElement(E,{isCorrectAnswer:z,response:R,result:q}),r.a.createElement("p",null,r.a.createElement("button",{className:"App-button",disabled:j,onClick:function(e){F(),g(!0)}},"Via!")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,t,n){e.exports=n(16)}},[[6,2,1]]]);
//# sourceMappingURL=main.ac363f1a.chunk.js.map